var groups=webpackJsonp_name_([7],{349:function(e,t,n){"use strict";function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function s(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){s("next",e)},function(e){s("throw",e)});e(a)}return s("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),c=n.n(a),l=n(54),u=n(50),p=n(369),h=(n.n(p),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.onLoad=function(){function e(){return n.apply(this,arguments)}var n=s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c()(".icon_item.icon_create_group").length&&t.addLeaveGroupControls(),t.bindAjaxContentHighlighting();case 2:case"end":return e.stop()}},e,this)}));return e}(),t.addLeaveGroupControls=function(){c()("#groups_list .profile_groups.title_bar").append('\n      <div class="sih-leave-controls">\n        <button class="sih-leave-button sih-leave-selected profile_groups manage_links btnv6_blue_hoverfade btn_small btn_uppercase btn_disabled">\n          <span>Leave selected</span>\n        </button>\n        <button class="sih-leave-button sih-leave-all profile_groups manage_links btnv6_blue_hoverfade btn_small btn_uppercase">\n          <span>Leave all</span>\n        </button>\n        <input class="sih-select-checkbox sih-select-all" type="checkbox">\n      </div>\n    '),c()('[id^="group_"] .actions').append('<input type="checkbox" class="sih-select-checkbox .sih-select-group">'),c()(".sih-select-all").on("click",function(e){var t=e.currentTarget,n=c()(t).prop("checked");c()(".sih-select-checkbox:visible").prop("checked",n).trigger("change")}),c()(".sih-leave-selected").on("click",function(){t.leaveGroup()}),c()(".sih-leave-all").on("click",function(){c()(".sih-leave-all").addClass("btn_disabled"),c()(".sih-select-checkbox:visible").prop("checked",!0).trigger("change"),t.leaveGroup()}),c()(".sih-select-checkbox").change(function(e){var t=e.currentTarget;c()(t).closest(".group_block").toggleClass("sih-row-selected",c()(t).prop("checked")),c()(".sih-leave-selected").toggleClass("btn_disabled",!c()(".sih-select-checkbox:checked").length>0)})},t.leaveGroup=function(){function e(e){return n.apply(this,arguments)}var n=s(regeneratorRuntime.mark(function e(n){var s,o,r,i,a,l,p,h,d,f,v,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=void 0===n?c()("div.sih-row-selected").not(".sih-inaction").first():c()(n).closest("div.group_block").not(".sih-inaction"),!s.length||s.hasClass("sih-group-skipped")){e.next=34;break}if(o=s.find(".actions .linkStandard"),r=s.find(".sih-select-checkbox"),i=s.attr("id"),a=o.last().attr("onclick"),s.addClass("sih-inaction"),1!==o.length){e.next=29;break}return l=u.a.getSessionID(),p=u.a.getProfileLink(),h=u.a.getActiveUserSteamID(),e.prev=11,s.addClass("es-progress"),d=/ConfirmLeaveGroup\( '(\d+)', "(.*)", '#(.*)'\s+\)/,f=d.exec(a),v=f[1],e.next=18,u.a.sendRequest({url:p+"/friends/action",type:"POST",data:{sessionid:l,steamid:h,ajax:1,action:"leave_group",steamids:[v]}});case 18:b=e.sent,b.success&&(s.addClass("sih-complete sih-group-left").animate({opacity:".30"},500,function(){s.removeClass("sih-inaction sih-progress sih-complete")}),c()("#"+i).slideUp()),t.leaveGroup(n),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(11),c()(".es-leave-all").removeClass("btn_disabled"),s.removeClass("es-inaction es-progress es-complete");case 27:e.next=32;break;case 29:s.addClass("sih-group-skipped").removeClass("sih-inaction sih-progress sih-complete"),r.prop("checked",!1).trigger("change"),t.leaveGroup(n);case 32:e.next=37;break;case 34:c()(".sih-leave-all").removeClass("btn_disabled"),c()(".sih-select-all").prop("checked",!1),c()("div.sih-group-skipped").removeClass("sih-group-skipped");case 37:case"end":return e.stop()}},e,this,[[11,23]])}));return e}(),t.bindAjaxContentHighlighting=function(){new MutationObserver(function(e){e.forEach(function(e){for(var n=0;n<e.addedNodes.length;n+=1){"groups_list"===e.addedNodes[n].id&&c()(".icon_item.icon_create_group").length&&t.addLeaveGroupControls()}})}).observe(document,{subtree:!0,childList:!0})},t}(l.a));t.default=new h},369:function(e,t){},420:function(e,t,n){n(14),e.exports=n(349)}},[420]);